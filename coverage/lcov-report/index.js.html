<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for index.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="index.html">All files</a> index.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">26.09% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>18/69</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/11</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">11.11% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>1/9</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">26.47% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>18/68</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var express = require('express');
var router = express.Router();
let result = [];
let Totalbalance = [];
let winlines = [];
let totalbet = 0;
let totalwin = 0;
let winsNumber = 0;
let tableData = []
let win_prec = 0;
/* GET home page. */
router.get('/', function(req, res, next) {
 //res.send({result:result});
  res.render('index', { title: 'Express' ,win_prec:win_prec,totalbet:totalbet,totalwin:totalwin, result: result , Totalbalance: Totalbalance, winlines: winlines,tableData:tableData});
});
&nbsp;
router.get('/api/getUsername', <span class="fstat-no" title="function not covered" >(r</span>eq, res, next) =&gt; <span class="cstat-no" title="statement not covered" >res.send({ username: 'Slot' }))</span>;
&nbsp;
&nbsp;
&nbsp;
router.post('/api/balance', <span class="fstat-no" title="function not covered" >fu</span>nction (req, res) {
	
   var balanceval = <span class="cstat-no" title="statement not covered" >req.body.balancevalue;</span>
<span class="cstat-no" title="statement not covered" >   Totalbalance.push(balanceval)</span>
<span class="cstat-no" title="statement not covered" >   tableData.push(Totalbalance)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >   res.render('index', { Totalbalance: Totalbalance })</span>
});
&nbsp;
router.post('/api/win', <span class="fstat-no" title="function not covered" >fu</span>nction (req, res) {
   var countValue = <span class="cstat-no" title="statement not covered" >req.body.countValue;</span>
   var roundStatus = <span class="cstat-no" title="statement not covered" >req.body.roundStatus;</span>
<span class="cstat-no" title="statement not covered" >   totalwin += countValue;</span>
<span class="cstat-no" title="statement not covered" >   winsNumber++;</span>
<span class="cstat-no" title="statement not covered" >   win_prec = ((winsNumber/totalbet)*100).toFixed(0) || 0;</span>
<span class="cstat-no" title="statement not covered" >   result.push({"countValue":countValue,"roundStatus":roundStatus})</span>
<span class="cstat-no" title="statement not covered" >   tableData.push(result)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >   res.render('index', { result: result })</span>
});
&nbsp;
router.post('/api/winlines', <span class="fstat-no" title="function not covered" >fu</span>nction (req, res) {
<span class="cstat-no" title="statement not covered" >	      totalbet++;</span>
   var winline = <span class="cstat-no" title="statement not covered" >req.body.winlines;</span>
   var lines = <span class="cstat-no" title="statement not covered" >'';</span>
<span class="cstat-no" title="statement not covered" >   winline.forEach(<span class="fstat-no" title="function not covered" >li</span>ne =&gt; {</span>
<span class="cstat-no" title="statement not covered" >   	switch (line.SYMBOLS.join()) {</span>
  case "4,4,4":
<span class="cstat-no" title="statement not covered" >    lines += "[🍒 🍒 🍒] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "3,3,3":
<span class="cstat-no" title="statement not covered" >      lines += "[7️⃣ 7️⃣ 7️⃣] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "3,4":
<span class="cstat-no" title="statement not covered" >        lines += "[7️⃣ 🍒] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "0,0,0":
<span class="cstat-no" title="statement not covered" >        lines += "[3X📊 3X📊 3X📊] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "2,2,2":
<span class="cstat-no" title="statement not covered" >          lines += "[2X📊 2X📊 2X📊] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "1,1,1":
<span class="cstat-no" title="statement not covered" >            lines += "[1X📊 1X📊 1X📊] ";</span>
<span class="cstat-no" title="statement not covered" >    break;</span>
  case "0,1,2":
<span class="cstat-no" title="statement not covered" >      lines += "[3X📊 1X📊 2X📊] ";</span>
}
  
&nbsp;
   })
<span class="cstat-no" title="statement not covered" >    winlines.push(lines);</span>
<span class="cstat-no" title="statement not covered" >   tableData.push(winlines)</span>
<span class="cstat-no" title="statement not covered" >   res.render('index', { winlines: winlines })</span>
});
&nbsp;
&nbsp;
router.post('/api/lines', <span class="fstat-no" title="function not covered" >fu</span>nction (req, res) {
<span class="cstat-no" title="statement not covered" >      totalbet++;</span>
   var lineslose = <span class="cstat-no" title="statement not covered" >req.body.lines;</span>
   var roundStatus = <span class="cstat-no" title="statement not covered" >req.body.roundStatus;</span>
<span class="cstat-no" title="statement not covered" >   lineslose.forEach(<span class="fstat-no" title="function not covered" >li</span>ne=&gt;{</span>
<span class="cstat-no" title="statement not covered" >            line.unshift('[')</span>
<span class="cstat-no" title="statement not covered" >             line.push(']')</span>
<span class="cstat-no" title="statement not covered" >     line.forEach(<span class="fstat-no" title="function not covered" >su</span>bline=&gt;{</span>
<span class="cstat-no" title="statement not covered" >    line[line.indexOf(4)] = "🍒 ";</span>
<span class="cstat-no" title="statement not covered" >    line[line.indexOf(3)] = "7️⃣ ";</span>
<span class="cstat-no" title="statement not covered" >    line[line.indexOf(2)] = "2X📊 ";</span>
<span class="cstat-no" title="statement not covered" >    line[line.indexOf(1)] = "1X📊 ";</span>
<span class="cstat-no" title="statement not covered" >    line[line.indexOf(0)] = "3X📊 ";</span>
&nbsp;
     })
   });
&nbsp;
<span class="cstat-no" title="statement not covered" >   winlines.push(lineslose)</span>
<span class="cstat-no" title="statement not covered" >   Totalbalance.push(Totalbalance.slice(-1)[0]||0)</span>
<span class="cstat-no" title="statement not covered" >   result.push({"countValue":0,"roundStatus":roundStatus})</span>
   // winlines.push(lineslose)
<span class="cstat-no" title="statement not covered" >   tableData.push(loselines)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >   res.render('index', { winlines: winlines })</span>
});
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
module.exports = router;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Tue Jan 29 2019 19:08:00 GMT+0200 (EET)
</div>
</div>
<script src="prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="sorter.js"></script>
</body>
</html>
